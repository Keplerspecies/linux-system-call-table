{"Man page": "<pre><br><span class=\"headline\">SETFSGID(2)               Linux Programmer's Manual              SETFSGID(2)</span><br></pre><br><h2>NAME  </h2><pre><br>       setfsgid - set group identity used for filesystem checks<br></pre><br><h2>SYNOPSIS  </h2><pre><br>       <b>#include &lt;sys/fsuid.h&gt;</b><br><br>       <b>int setfsgid(uid_t </b><i>fsgid</i><b>);</b><br></pre><br><h2>DESCRIPTION  </h2><pre><br>       The system call <b>setfsgid</b>() changes the value of the caller's<br>       filesystem group ID&#8212;the group ID that the Linux kernel uses to check<br>       for all accesses to the filesystem.  Normally, the value of the<br>       filesystem group ID will shadow the value of the effective group ID.<br>       In fact, whenever the effective group ID is changed, the filesystem<br>       group ID will also be changed to the new value of the effective group<br>       ID.<br><br>       Explicit calls to setfsuid(2) and <b>setfsgid</b>() are usually used only by<br>       programs such as the Linux NFS server that need to change what user<br>       and group ID is used for file access without a corresponding change<br>       in the real and effective user and group IDs.  A change in the normal<br>       user IDs for a program such as the NFS server is a security hole that<br>       can expose it to unwanted signals.  (But see below.)<br><br>       <b>setfsgid</b>() will succeed only if the caller is the superuser or if<br>       <i>fsgid</i> matches either the caller's real group ID, effective group ID,<br>       saved set-group-ID, or current the filesystem user ID.<br></pre><br><h2>RETURN VALUE  </h2><pre><br>       On both success and failure, this call returns the previous<br>       filesystem group ID of the caller.<br></pre><br><h2>VERSIONS  </h2><pre><br>       This system call is present in Linux since version 1.2.<br></pre><br><h2>CONFORMING TO  </h2><pre><br>       <b>setfsgid</b>() is Linux-specific and should not be used in programs<br>       intended to be portable.<br></pre><br><h2>NOTES  </h2><pre><br>       When glibc determines that the argument is not a valid group ID, it<br>       will return -1 and set <i>errno</i> to <b>EINVAL </b>without attempting the system<br>       call.<br><br>       Note that at the time this system call was introduced, a process<br>       could send a signal to a process with the same effective user ID.<br>       Today signal permission handling is slightly different.  See<br>       setfsuid(2) for a discussion of why the use of both setfsuid(2) and<br>       <b>setfsgid</b>() is nowadays unneeded.<br><br>       The original Linux <b>setfsgid</b>() system call supported only 16-bit group<br>       IDs.  Subsequently, Linux 2.4 added <b>setfsgid32</b>() supporting 32-bit<br>       IDs.  The glibc <b>setfsgid</b>() wrapper function transparently deals with<br>       the variation across kernel versions.<br></pre><br><h2>BUGS  </h2><pre><br>       No error indications of any kind are returned to the caller, and the<br>       fact that both successful and unsuccessful calls return the same<br>       value makes it impossible to directly determine whether the call<br>       succeeded or failed.  Instead, the caller must resort to looking at<br>       the return value from a further call such as <i>setfsgid(-1)</i> (which will<br>       always fail), in order to determine if a preceding call to <b>setfsgid</b>()<br>       changed the filesystem group ID.  At the very least, <b>EPERM </b>should be<br>       returned when the call fails (because the caller lacks the <b>CAP_SETGID</b><br>       capability).<br></pre><br><h2>SEE ALSO  </h2><pre><br>       kill(2), setfsuid(2), capabilities(7), credentials(7)<br></pre><br><h2>COLOPHON  </h2><pre><br>       This page is part of release 4.02 of the Linux <i>man-pages</i> project.  A<br>       description of the project, information about reporting bugs, and the<br>       latest version of this page, can be found at<br>       http://www.kernel.org/doc/man-pages/.<br><br><span class=\"footline\">Linux                            2013-08-08                      SETFSGID(2)</span><br></pre><br>"}