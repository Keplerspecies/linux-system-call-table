{"Man page": "<pre><br><span class=\"headline\">LOOKUP_DCOOKIE(2)         Linux Programmer's Manual        LOOKUP_DCOOKIE(2)</span><br></pre><br><h2>NAME  </h2><pre><br>       lookup_dcookie - return a directory entry's path<br></pre><br><h2>SYNOPSIS  </h2><pre><br>       <b>int lookup_dcookie(u64 </b><i>cookie</i><b>, char *</b><i>buffer</i><b>, size_t </b><i>len</i><b>);</b><br></pre><br><h2>DESCRIPTION  </h2><pre><br>       Look up the full path of the directory entry specified by the value<br>       <i>cookie</i>.  The cookie is an opaque identifier uniquely identifying a<br>       particular directory entry.  The buffer given is filled in with the<br>       full path of the directory entry.<br><br>       For <b>lookup_dcookie</b>() to return successfully, the kernel must still<br>       hold a cookie reference to the directory entry.<br></pre><br><h2>RETURN VALUE  </h2><pre><br>       On success, <b>lookup_dcookie</b>() returns the length of the path string<br>       copied into the buffer.  On error, -1 is returned, and <i>errno</i> is set<br>       appropriately.<br></pre><br><h2>ERRORS  </h2><pre><br>       <b>EFAULT </b>The buffer was not valid.<br><br>       <b>EINVAL </b>The kernel has no registered cookie/directory entry mappings<br>              at the time of lookup, or the cookie does not refer to a valid<br>              directory entry.<br><br>       <b>ENAMETOOLONG</b><br>              The name could not fit in the buffer.<br><br>       <b>ENOMEM </b>The kernel could not allocate memory for the temporary buffer<br>              holding the path.<br><br>       <b>EPERM  </b>The process does not have the capability <b>CAP_SYS_ADMIN</b><br>              required to look up cookie values.<br><br>       <b>ERANGE </b>The buffer was not large enough to hold the path of the<br>              directory entry.<br></pre><br><h2>VERSIONS  </h2><pre><br>       Available since Linux 2.5.43.  The <b>ENAMETOOLONG </b>error return was<br>       added in 2.5.70.<br></pre><br><h2>CONFORMING TO  </h2><pre><br>       <b>lookup_dcookie</b>() is Linux-specific.<br></pre><br><h2>NOTES  </h2><pre><br>       <b>lookup_dcookie</b>() is a special-purpose system call, currently used<br>       only by the oprofile profiler.  It relies on a kernel driver to<br>       register cookies for directory entries.<br><br>       The path returned may be suffixed by the string \" (deleted)\" if the<br>       directory entry has been removed.<br></pre><br><h2>COLOPHON  </h2><pre><br>       This page is part of release 4.02 of the Linux <i>man-pages</i> project.  A<br>       description of the project, information about reporting bugs, and the<br>       latest version of this page, can be found at<br>       http://www.kernel.org/doc/man-pages/.<br><br><span class=\"footline\">Linux                            2004-06-17                LOOKUP_DCOOKIE(2)</span><br></pre><br>"}