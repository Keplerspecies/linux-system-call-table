{"Man page": "<pre><br><span class=\"headline\">USTAT(2)                  Linux Programmer's Manual                 USTAT(2)</span><br></pre><br><h2>NAME  </h2><pre><br>       ustat - get filesystem statistics<br></pre><br><h2>SYNOPSIS  </h2><pre><br>       <b>#include &lt;sys/types.h&gt;</b><br>       <b>#include &lt;unistd.h&gt;    </b>/* libc[45] */<br>       <b>#include &lt;ustat.h&gt;     </b>/* glibc2 */<br><br>       <b>int ustat(dev_t </b><i>dev</i><b>, struct ustat *</b><i>ubuf</i><b>);</b><br></pre><br><h2>DESCRIPTION  </h2><pre><br>       <b>ustat</b>() returns information about a mounted filesystem.  <i>dev</i> is a<br>       device number identifying a device containing a mounted filesystem.<br>       <i>ubuf</i> is a pointer to a <i>ustat</i> structure that contains the following<br>       members:<br><br>           daddr_t f_tfree;      /* Total free blocks */<br>           ino_t   f_tinode;     /* Number of free inodes */<br>           char    f_fname[6];   /* Filsys name */<br>           char    f_fpack[6];   /* Filsys pack name */<br><br>       The last two fields, <i>f_fname</i> and <i>f_fpack</i>, are not implemented and<br>       will always be filled with null bytes ('\\0').<br></pre><br><h2>RETURN VALUE  </h2><pre><br>       On success, zero is returned and the <i>ustat</i> structure pointed to by<br>       <i>ubuf</i> will be filled in.  On error, -1 is returned, and <i>errno</i> is set<br>       appropriately.<br></pre><br><h2>ERRORS  </h2><pre><br>       <b>EFAULT </b><i>ubuf</i> points outside of your accessible address space.<br><br>       <b>EINVAL </b><i>dev</i> does not refer to a device containing a mounted<br>              filesystem.<br><br>       <b>ENOSYS </b>The mounted filesystem referenced by <i>dev</i> does not support this<br>              operation, or any version of Linux before 1.3.16.<br></pre><br><h2>CONFORMING TO  </h2><pre><br>       SVr4.<br></pre><br><h2>NOTES  </h2><pre><br>       <b>ustat</b>() is deprecated and has been provided only for compatibility.<br>       All new programs should use statfs(2) instead.<br><br>   <b>HP-UX notes</b><br>       The HP-UX version of the <i>ustat</i> structure has an additional field,<br>       <i>f_blksize</i>, that is unknown elsewhere.  HP-UX warns: For some<br>       filesystems, the number of free inodes does not change.  Such<br>       filesystems will return -1 in the field <i>f_tinode</i>.  For some<br>       filesystems, inodes are dynamically allocated.  Such filesystems will<br>       return the current number of free inodes.<br></pre><br><h2>SEE ALSO  </h2><pre><br>       stat(2), statfs(2)<br></pre><br><h2>COLOPHON  </h2><pre><br>       This page is part of release 4.02 of the Linux <i>man-pages</i> project.  A<br>       description of the project, information about reporting bugs, and the<br>       latest version of this page, can be found at<br>       http://www.kernel.org/doc/man-pages/.<br><br><span class=\"footline\">Linux                            2003-08-04                         USTAT(2)</span><br></pre><br>"}