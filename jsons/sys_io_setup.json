{"Man page": "<pre><br><span class=\"headline\">IO_SETUP(2)               Linux Programmer's Manual              IO_SETUP(2)</span><br></pre><br><h2>NAME  </h2><pre><br>       io_setup - create an asynchronous I/O context<br></pre><br><h2>SYNOPSIS  </h2><pre><br>       <b>#include &lt;linux/aio_abi.h&gt;          </b>/* Defines needed types */<br><br>       <b>int io_setup(unsigned </b><i>nr_events</i><b>, aio_context_t *</b><i>ctx_idp</i><b>);</b><br><br>       <i>Note</i>: There is no glibc wrapper for this system call; see NOTES.<br></pre><br><h2>DESCRIPTION  </h2><pre><br>       The <b>io_setup</b>() system call creates an asynchronous I/O context<br>       suitable for concurrently processing <i>nr_events</i> operations.  The<br>       <i>ctx_idp</i> argument must not point to an AIO context that already<br>       exists, and must be initialized to 0 prior to the call.  On<br>       successful creation of the AIO context, <i>*ctx_idp</i> is filled in with<br>       the resulting handle.<br></pre><br><h2>RETURN VALUE  </h2><pre><br>       On success, <b>io_setup</b>() returns 0.  For the failure return, see NOTES.<br></pre><br><h2>ERRORS  </h2><pre><br>       <b>EAGAIN </b>The specified <i>nr_events</i> exceeds the user's limit of available<br>              events, as defined in <i>/proc/sys/fs/aio-max-nr</i>.<br><br>       <b>EFAULT </b>An invalid pointer is passed for <i>ctx_idp</i>.<br><br>       <b>EINVAL </b><i>ctx_idp</i> is not initialized, or the specified <i>nr_events</i> exceeds<br>              internal limits.  <i>nr_events</i> should be greater than 0.<br><br>       <b>ENOMEM </b>Insufficient kernel resources are available.<br><br>       <b>ENOSYS io_setup</b>() is not implemented on this architecture.<br></pre><br><h2>VERSIONS  </h2><pre><br>       The asynchronous I/O system calls first appeared in Linux 2.5.<br></pre><br><h2>CONFORMING TO  </h2><pre><br>       <b>io_setup</b>() is Linux-specific and should not be used in programs that<br>       are intended to be portable.<br></pre><br><h2>NOTES  </h2><pre><br>       Glibc does not provide a wrapper function for this system call.  You<br>       could invoke it using syscall(2).  But instead, you probably want to<br>       use the <b>io_setup</b>() wrapper function provided by <i>libaio</i>.<br><br>       Note that the <i>libaio</i> wrapper function uses a different type<br>       (<i>io_context_t *</i>) for the <i>ctx_idp</i> argument.  Note also that the <i>libaio</i><br>       wrapper does not follow the usual C library conventions for<br>       indicating errors: on error it returns a negated error number (the<br>       negative of one of the values listed in ERRORS).  If the system call<br>       is invoked via syscall(2), then the return value follows the usual<br>       conventions for indicating an error: -1, with <i>errno</i> set to a<br>       (positive) value that indicates the error.<br></pre><br><h2>SEE ALSO  </h2><pre><br>       io_cancel(2), io_destroy(2), io_getevents(2), io_submit(2), aio(7)<br></pre><br><h2>COLOPHON  </h2><pre><br>       This page is part of release 4.02 of the Linux <i>man-pages</i> project.  A<br>       description of the project, information about reporting bugs, and the<br>       latest version of this page, can be found at<br>       http://www.kernel.org/doc/man-pages/.<br><br><span class=\"footline\">Linux                            2013-06-21                      IO_SETUP(2)</span><br></pre><br>"}